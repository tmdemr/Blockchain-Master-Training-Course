# 전자서명
- 전자서명
암호기술을 이용하여 전자 문서에 대한 서명 기능을 구현한 것.
- 요구조건
위조불가 : 개인 키를 소유한 서명자만 서명문 생성 가능
변경불가 : 서명된 문서의 내용 변경 불가
서명자 인증 : 개인키를 소유한자가 전자서명의 행위자임.
재사용불가 : A문서의 전자서명을 B문서의 전자서명으로 사용불가.
부인방지 : 서명자는 전자서명 후 행위에 대한 부인 불가.

## 전자서명의 활용
- 사용자 인증
로그인 등에서 사용자 확인을 위해 사용
로그인 메시지를 사용자의 개인키로 서명하여 전송, 서버에서 사용자의 공개키로 검증
인터넷 뱅킹, 전자정부서비스 로그인
- 메시지 인증
메시지에 전자서명을 부가하여 사용자의 서명사실을 증명
수신자는 사용자의 공개키로 서명을 검증
부인방지 기능 제공

## RSA 전자서명
- RSA 전자서명은 RSA공개키 암호화의 반대 연산
서명 생성(sign) : 개인키 이용
서명 검증(verify) : 공개키 이용
- 전자서명은 해쉬함수와 함께 사용
전자서명은 공개키암호 연산을 사용하므로 속도가 느림
메시지 전체에 대한 서명연산을 하지 않고 메시지의 해쉬값에 대해 서명연산을 1회만 수행
계산량과 통신량을 크게 줄일 수 있음.
- 서명자의 신분 인증
인증기관이 발행한 인증서를 이용하여 서명자의 신분 인증

## DSA (Digital Signature Algorithm)
- DSS는 전자서명의 표준 이름이고 이 표준안에서 사용되는 알고리즘이 DSA이다.
- 이산대수문제의 어려움을 안정성의 바탕으로 삼음.
Y = g^x mod p 에서 Y,g,p을 공개하더라도 x를 구하기 어렵다는 것을 이용

## ECDSA(Elliptic Curve Digital Signature Algorithm)
- 기존 공개키 방식에 비해 짧은키를 사용하면서도 그와 비슷한 수준의 안전성을 제공한다.

## JCA / JCE에서의 전자서명
- java.security.Signature 클래스 사용
- 공개키 / 개인키 생성 방식은 공개키 암호와 동일함.
- getInstance()메소드를 호출해서 서명 객체 생성
- 해시함수with서명알고리즘 형태로 사용
Signature signature = Signature.getInstance("SHA1withRSA")

## 난수화된 RSA 전자서명
- RSA 전자서명은 같은 메시지에 대해 항상 동일한 서명값을 출력
-> 공격자가 동일한 메시지에 대한 서명임을 인지할 수 있음.
- RSA/PSS
Probabilistic Signature Scheme
Salt를 이용한 메시지 패딩 이용

## 전자봉투(Digital Envelope)
아래 3가지 기능을 한번에
- 전자서명: 송신자의 개인키로 전자서명
- 메시지 암호화 : 난수 세션키로 메시지와 서명값을 암호화
- 세션키 전달 : 세션키를 수신자의 공개키로 암호화

# 영지식 증명(ZKP : Zero Knowledge Proof)
- 증명을 위해 필요한 직접적인 정보를 제공하지 않고 진위여부를 입증하는 것
- *동굴예시*
- 장점
프라이버시 : 비밀키를 알려주지 않고 증명 가능
확장성 : 블록에 쌓인 트랜잭션(거래내역)을 일일이 검증하지 않고 검증 값을 보내어 통으로 검증할 수 있다.
- 대화형 증명
완전성 : Prover의 증거가 옳다면, Verifier는 이를 옳다고 판단해야 함.
건전성 : Prover의 증거가 옳지 않다면, Verifier는 이를 옳지 않다고 판단해야 함.
위 두 조건을 만족해야 대화형 증명시스템이 될 수 있음.
메시지를 10번 교환하여 10개의 답이 다르다는 것을 확인할 때보다 메시지를 1000번 교환하여 1000개의 답이 다르다는 것을 확인할 때 확률이 더 크다는 것을 이용함.
__대화형 증명시스템은 시스템 결과의 안정성이 확률에 의존하며, 확률은 대화를 많이 반복할 수록 커진다는 것을 의미함.__

- 대화형 영지식 증명
영지식성 : 증거가 올바르다면, Verifier는 증거가 옳다는 것 이외에 어떤 정보도 얻을 수 없음.
위 완전성, 건전성, 영지식성을 모두 만족해야 함.
__대화형 영지식 증명 시스템은 대화형 증명 시스템의 속성을 포함함. 따라서, 대화형 영지식 증명에서도 결과의 확률을 높이기 위해서 대화를 반복해야 함.__

- 비대화형 영지식 증명 시스템
대화형 영지식 증명시스템에서 메시지 교환을 여러번 해야 하는 효율성을 개선하기 위함.
Prover가 Verifier에게 증거를 보낸 후 Verifier가 증거를 검증할 때 추가적인 메시지 교환이 전혀 일어나지 않음.
따라서, Prover는 Verifier에게 증거를 보낸 후, 통신이 끊어져도 검증에는 아무 문제가 없음.
대표적 비대화형 영지식 증명 시스템으로 zk-SNARKs에는 믿을 수 있는 제3자가 있음. 믿을 수 있는 제 3자는 Prover가 증거를 만들고 Verifier가 증거를 검사할 때 필요한 정보를 제공한다.
Prover는 제3자가 준 정보로 증거를 만들고, Verifier에게 증거를 전송하면 Verifier는 게산을 통해 증거가 옳은지, 옳지 않은지 검증한다.
__Prover가 Verifier의 검증 결과의 안정성을 높이기 위해 대화형 영지식 증명 시스템처럼 메시지를 반복할 필요가 없으며, 결과의 안정성이 확률에 의존하지 않음__
