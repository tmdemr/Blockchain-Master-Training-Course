# 암호학
- 암호학 : 기밀성, 무결성, 가용성
- 부인방지, 인증, 접근통제
- 암호는 Work Factor를 높게 설정한다.
-- key 사이즈를 늘린다, Round 횟수를 높인다, Block사이즈를 늘린다.
- 현재의 컴퓨팅 파워로 어떤 암호를 푸는데 수백년의 시간이 걸리는 암호는 현재의 컴퓨팅 파워로는 풀지못하는 암호라고 함.

### 암호학의 구분
암호화는 아래 2가지 방식으로 구분함.
- 입력데이터 처리 방식
스트림 암호, 블록 암호
- 암호화 위치
링크 암호화, 종단간 암호화

### 입력 데이터 처리 방식 암호화
- 스트림 암호화 방식
평문과 키 스트림을 XOR하여 암호화함.

- 블록 암호화 방식
평문을 일정한 크기의 블록으로 잘라낸 후, 암호화 알고리즘을 적용, 암호화

### 스트림 암호화 블록 암호 비교
- 스트림 암호
암호 속도 빠름, 에러 전파 현상 없음, 비트 단위의 암호화, 음성 오디오/비디오 스트리밍 등에 사용됨.
ex) LFSR, MUX Generator
- 블록암호
기밀성, 해쉬 함수 등 다양, 블록 담위의 암호화, 일반 데이터 전송, 스토리지 저장 등에 사용됨.
ex) DES, IDEA, SEED, RC5, AES

### 암호화 위치에 따른 암호화
- 링크 암호화
물리 계층에서 암호화가 이루어짐. 링크간에서만 암호화하므로 헤더와 트레일러도 암호화함.

- 종단간 암호화
애플리케이션 계층에서 암호화, 헤더와 트레일러를 암호화하지 않음.
보디 부분, 중요 내용, 특정 부분만 암호화를 함.

### 링크, 종단간 암호화 비교
- 링크 암호화
User-Transparent하게 암호화되므로 운영이 간단함.
각 링크당 한 세트의 키만 필요
라우팅 정보까지 암호화함으로써 트래픽 분석이 어려움.
온라인으로 암호화
단점
중간 노드에서 데이터가 평문으로 노출
다양한 보안서비스를 제공하는데 한계가 있음.
모든 노드가 암호화 장비를 갖추어야 하므로 네트워크가 커지면 비용이 커짐.

- 종단간 암호화
사용자 인증 등 높은 수준의 보안 서비스 제공
중간 노드에서도 데이터가 암호문으로 존재
단점
복잡한 키 관리 시스템이 필요
트래픽 분석에 취약
오프라인으로 암호화

### 전치 암호
- 단일 문자 대치
- 다중 문자 대치 방식
대표적으로 비제네르 방식
- 레일 펜스 암호화
대표적으로 스키테일, 레일펜스 암호화 방식

### 블록 기반 암호화 방식
- 블록모드
ECB / CBC
- (스트림 모드가 가능한) 블록 모드
CFB / OFB / CTR

### ECB 모드 (전자 코드 표 모드)
- 평문 블록을 그대로 암호화하는 가장 간단하고 기밀성이 낮은 모드

### CBC 모드 (암호 블록 연쇄 모드)
- 앞의 암호문 블록과 다음 평문 블록을 XOR하여 체인이 형성된 것처럼 암호화를 수행

### CFB 모드 (암호 피드백 모드)
- 앞의 암호문 블록을 암호 알고리즘의 입력으로 사용, 피드백은 암호화 입력의 사용을 의미한다.

### OFB 모드 (출력 피드백 모드)
- 블록을 암호화하여 이를 평문과 XOR하여 동작

### CTR 모드(카운터 모드)
- 1씩 증가해가는 카운터를 암호화해서 키 스트림을 만들어 내는 스트림 암호화 방식

### 대칭 알고리즘
- 암호화 키와 복호화 키가 동일한 암호화 방법
- 키 갯수 : N(N-1) / 2
- 암호화 속도가 빠르고, 경제성이 높지만, 인증이 좋지 않음
- DEA, AES, SEED 등
### 비대칭 알고리즘
- 암호화 키와 복호화 키가 다른 알고리즘
- 소인수분해 문제와 이산대수 문제로 분류할 수 있음
- 키 갯수 : 2N
- 인증이 안전하고, 속도가 느림, 경제성도 대칭 알고리즘에 비해 낮음.
- RSA, ECC, ElGamal

### 키 관리 방법
- 키 생성 : 랜덤 생성 (하드웨어적 난수 생성기와 패스워드 이용)
- 키 배송 : 사전 공유 방법(키 배포 센터 이용, 공개키 암호 사용), Diffie-Hellamn 키 교환
- 키 갱신 : 통신 기밀성을 높이기 위해 정기적으로 키를 교환
- 키 복구 : 키 위탁방식, 키 캡슐화 방식, 제2의 신뢰기관 방식 등

### 해시 함수
- 임의 길이의 입력을 받아 고정된 짧은 길이의 출력을 생성하는 함수
- One-way 방식
- 대표적으로 MD5, SHA-1 등

### MAC(메시지 인증 코드)
- 데이터가 변조되었는지를 검증할 수 있도록 데이터에 덧붙이는 코드
- 대표적으로 HMAC, CBC-MAC, CMAC 등

### 디지털 서명 (개인 키에 의한 암호화)
- 문서작성자의 신원과 전자문서의 변조 여부를 확인할 수 있도록 개인키로 암호화하는 기술
- 개인 키로 암호화 한 암호문은 대응하는 공개 키로만 바르게 복호화 할 수 있다.
- 개인 키로 암호화 후, 공개 키로 복호화

### 암호 해독 공격의 분류
- 암호문
- 알려진 평문 - 무차별 대입
- 선택된 평문 공격
- 선택된 암호문 공격

### 암호문 공격
- 공격자에게 가장 불리한 방법으로, 암호문만을 가지고 평문과 암호 키를 찾아내야 함.

### 알려진 평문 공격
- 평문은 아는 상태
- 공격자가 암호문에 해당하는 평문을 일부 수집한 상태에서 암호문과의 관계를 이용, 새로운 암호문 해독

### 선택된 평문 공격
- 공격자가 한꺼번에 선택한 평문들에 대한 암호문이 주어진다는 가정하에 복호화 키를 찾는 공격

### 선택된 암호문 공격
- 공격자가 한꺼번에 선택한 암호문들에 대한 평문이 주어진다는 가정하에 키를 찾는 공격

### 이메일 보안
- PGP (Pretty good privacy)
전자서명, 메시지 암호화,

- IPSEC
암호화 보안 서비스를 사용하여 IP 네트워크를 통한 보안된 개인 통신을 보장하는 개방형 표준 프레임워크
네트워크 계층
Two-Way 인증
응용 프로그램 의존적
제한된 환경에서 접속
복잡성이 높음

- SSL
전송 계층 보안으로 불리는 암호 프로토콜
웹 브라우저의 서버간 통신을 위한 프로토콜
전송계층
One-way 인증
브라우저에 의존적
분산 환경 통합 접속
복잡성 보통

### 비트코인 거래
- 암호화를 2번 하여 개인 키에 안전성이 매우 높음
- Private key : 비트코인 소유주 입증, Bitcoin address로 암호화 된 거래 내역을 푸는 데 활용
- Public key : 계좌 번호화 같은 역할을 함. 거래 내역 암호화에 사용

### 해시 함수
- 임의의 길이를 갖는 임의의 데이터에 대해 고정된 길이의 데이터로 매핑하는 암호화 함수
- 고정된 값에 항상 동일한 해시 값을 만들어 냄.
- 해시 : 해시 함수에서 산출된 고유 값. 파일 조작 여부 확인용으로 사용됨.
- SHA-256
해시 함수의 일종으로 사용되는 암호 알고리즘
256비트, 64 문자열
- 해시 충돌 : 같은 해시 값이 중복으로 발생해서 생기는 문제.
2^256 이상의 투입 값은 중복된 해시 값이 발생할 수 있음.
생일 패러독스 : 같은 생일자가 나올 확률을 위해 필요한 사람은 366명이 아닌 23명 이상만되도 확률이 50%로 올라감. 2^256 이전에도 해시 충돌 발생 가능

- 채굴 : Nonce값을 계속 증가시키면서 맞는 해시값을 찾는 과정.
-> 해시 값을 찾으면 브로드캐스트하여 알림
- 블록체인에 제시된 16진수 값보다 낮고, 최초로 문제를 해결하면 블록을 생성할 수 있음. 해당 해시 값은 다음 블록에 기록됨.
