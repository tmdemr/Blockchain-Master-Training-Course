# 합의 알고리즘 / 채굴이란
### 작업 증명(PoW, Proof of Work)
PoW
- 새로운 화폐가 생성되는 과정에서 생성자들에게 일을했다는 증명하는 것을 강제하여 화폐의 가치와 보안을 보자앟는 방식.
- 장점 : 안정성 - 최초의 P2P방식의 분산원장 방식 Bitcoin Core는 아직 해킹되지 않음.
- 단점 : 거래량/거래속도의 제한, 에너지소모 과다, 빈익빈부익부(파워 성능에따라 채굴에 대한 부익부빈익빈현상 발생)
- 풀기 어려운 문제를 빨리 해결한 사람에게 블록을 생성할 수 있는 권한을 주고 그 보상으로 코인을 제공.
- 블록 거래 내용 변경을 위해 많은 자원이 필요해 위변조가 어려워 보안성이 좋음.
- 이중지불 문제 해결
- 채굴 난이도가 높아질수록 연산에 고사양 장비 필요
- 반복적 연산을 계속해서 불필요한 연산을 많이하게 되며, 전기같은 리소스 낭비가 심함.
- 노드들이 트랜잭션을 검토해야 하기 때문에 모든 블록 정보를 보유해야함.
- 블록의 기여에 따라 코인을 지급.

### 지분 증명 (Proof of Stake)
PoS
- PoW와 다르게 채굴기와 같은 고성능 하드웨어가 필요하지 않음.
- PoW에서 51% 해시파워를 가지는 비용보다 PoS 전세계 자산의 51%에서 PoS방식의 비용이 더높음.
-> 중앙집권화가 더 어려워져 분산화가 더 잘된다 볼 수 있음.
- 참여한 노드들이 이자를 받으려고 코인을 묶어두려 하기 때문에 시중 코인의 유통량 감소로 이어질 수 있음.
- 코인을 많이 갖는 사람이 너무 강한 권력을 갖게 됨.
-> PoW는 작업을해야 코인을 얻는 방식이기 때문에 많이 보유하더라도 계속 작업을 해야 함.
-> PoS는 지분을 많이 소유한 사람이 코인을 얻는 방식이기 때문에 묶어두려 함.
- 네트워크의 모든 노드들이 검증을하기 때문에 속도면에서 뒤쳐질 수 있음.

### DPoS(Delegated Proof of Stake)
- 위임지분증명이라 부르기도 하며, 특정 인원에게만 PoS를 할 수 있도록 권한을 위임하는 것.
- 네트워크상 노드들의 투표 결과로 선출된 상위 노드에게 권한을 위임하여 일종의 대표자가 되는 것.
- 위임한 대표자와 수익을 배분함.
- 소규모 참여자도 이득을 볼 수 잇음.
- PoS에 비해 적은 노드 수로 높은 확장성을 가짐.(거래속도가 빠름)
- 상위 노드만 블록 생성에 참여하기 때문에 탈중앙화가 맞는지 애매함.
- 코인 보유량이 적어도 상위 노드로 뽑힐 수 있음.
- 블록생산자의(2/3 + 1)이 투표하면 한 블록이 확정
- DPoS는 속도를 위해 분산을 희생한 프로토콜
- 높은 수준의 확장성(거래 속도)를 필요로 하는 앱에 대해선 의미가 있음.
- DPoS는 자신의 토큰을 더 큰 지분 소유자에게 위임하고 스테이크 보상의 일부분 확보

- DPoS는 올바른 대표자 선출을 위해 본인이 누군지 밝혀야 한다는 딜레마가 있음.
- 블록 생성 권한을 받은 대표자 노드의 수가 상대적으로 적기 때문에 상대적으로 적은 노드 수만 공격하면되므로 공격에 취약
- 엄청난 물량의 코인을 보유하고 있는 거래소의 투표권 남용 가능
- 큰 토큰 소유자의 이익 마진이 높기 때문에 블록 체인의 중앙 집중화가 발생가능

### DPoS vs PoS
- PoS의 경우 일정 지분을 소유한 모든 노드에게 블록 생성 권한이 주어지기에 시간이 오래 걸림.
- DPoS의 경우 투표 결과로 정한 상위 노드라는 비교적 적은 숫자로 인해 합의 시간과 비용이 줄어듬.

### PoA
- Proof of Authority
신분에 기반한 합의 메커니즘을 통해 즉각적인 거래를 제공하는 블록체인과 함께 사용되는 알고리즘.
PoA는 private 네트워크에는 적합
신원이 보장된 참여자들의 네트워크에 사용 가능
신뢰를 분산해야 하는 공용 네트워크에는 부적합

### PBFT
- 비잔틴 장군 문제를 해결하기 위한 실질적인 프로토콜
- 비잔틴 장군 문제 : 장군이 악의적인 행동을 할 수 있다는 점을 가정
- 단순 고장난 노드 뿐만 아니라 악의적인 노드가 있음에도 불구하고 전체 시스템이 안정적으로 동작하도록 하는 프로토콜
- 허가형 블록체인 시스템에 적용

### 탈중앙화
- 기존 웹 애플리케이션 대부분은 중앙화된 시스템으로 구성됨.
- Smart Contract를 사용하여 블록체인 노드가 각각의 독립노드가 되어 같은 역할을 수행하는 dApp 구조를 구성할 수 있음.
장점
- 기존 통화 시스템은 중앙화된 장부 기입 방식으로 구추고디어 거래내용을 신뢰할 수 있는 강력한 기관에 맡겨야 함.
- 중앙화 시스템은 과도한 권한의 집중을 전제로 하기 때문에 항상 해킹과 데이터 유출에 대한 위험성이 큼.
- 탈 중앙화된 시스템은 권한이 분산되어 권한의 오용을 막을 수 있음.
- 블록체인의 dApp을 이용한 탈중앙화의 경우 데이터 및 권한이 분산되어 있으므로 해킹과 데이터 유출에 대한 위험성을 낮출 수 있음.

### 튜링 완전성
- 튜링 완전 언어 : 튜링 머신에 넣어야 할 알고리즘을 만들 수 있는 언어
- 프로세스를 충분히 분할할 수 있을 만큼 작은 단위를 사용할 수 있어야 함.
- 조건문과 반복문 사용이 가능해야 함.

### 블록체인과 Smart Contract
- 비트코인에서 자체적으로 제공하는 스크립트언어는 DDoS공격을 방지하기 위해 반복문 사용 불가.
- 이더리움은 이러한 비트코인 스크립팅 시스템의 한계를 극복하고자 나온 튜링 완전 블록체인 플랫폼.

### 이더리움과 반복문
- 반복문으로 인한 DDoS공격을 방지하기 위해 가스 개념을 추가
- Smart Contract로 거래 시 수수료가 발생하여 막대한 자본을 가지고 있는 것이 아니라면 DDoS공격이 불가
- 반복문이 가능해져 더 다양하고 복잡한 구문 실행 가능

### 이더리움과 Gas
- 이더리움 플랫폼에서 수수료를 책정하기 위한 단위
- 이더리움에서 채굴자들은 스마트 컨트랙트 수행 보상으로 가스 수수료를 받음

### 엄격한 계약
- 정해진 대로 코드를 실행하기 때문에 예외적인 상황에 대처하지 못함.

### 익명성
- Smart Contract는 블롯체인 플랫폼 위에서 동작하여 거래자는 익명성을 가짐.
- 거래내역은 공개되어 블록체인 상에 기록
- 거래자에 대한 정보는 직접적으로 공개되지 않으나, 거래내역 등을 통해 간접적으로 공개될 수 있음.

### 응용 가능성
- Smart Contract로 블록체인 플랫폼 위에서 다양한 애플리케이션을 구동할 수 있음.
- IoT, 인공지능, 채권, 주식, 보험, 부동산 등

### 탈중앙화 된 자율 조직(DAO)
- 중앙화된 자율 조직을 뜻함.
- 개인들이 모여 자율적으로 제안, 투표 등의 의사표시를 할 수 있음.

### Smart Contract의 불완전성
- 블록체인 플랫폼의 보안성이 높더라도 Smart Contract에선 허점이 발생할 수 있음.
- Smart Contract 코드를 작성하는 것은 사람이며, 사람이 쓴 코드에는 버그나 허점이 존재할 가능성이 있음.
- Smart Contract 보안 감사 필요성
-- 블록체인 네트워크에 한번 올라간 Smart Contract의 코드를 수정하기는 불가능
-- Smart Contract 의 보안허점 혹은 버그가 발생되더라도 손 쓸 방법이 없음.
- Smart Contract 보안 표준 정립 필요성
-- Smart Contract 보안 감사 서비스는 존재하지만, 사람에 의존
-- Smart Contract 보안 취약점에 대한 전문가의 수가 많지 않아 감사를 받기 위해선 긴 시간이 필요.
 
